<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>posnk kernel: include/kernel/vfs.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">posnk kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="https://github.com/peterbjornx/posnk"><span>GitHub&#160;Project</span></a></li>
      <li><a href="downloads.html"><span>Downloads</span></a></li>
      <li><a href="features.html"><span>Features</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('vfs_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">vfs.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="vfs_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="process_8h.html">kernel/process.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef __KERNEL_VFS_H__</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define __KERNEL_VFS_H__</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="synch_8h.html">kernel/synch.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="permissions_8h.html">kernel/permissions.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pipe_8h.html">kernel/pipe.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">kernel/time.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="llist_8h.html">util/llist.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="types_8h.html">sys/types.h</a>&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="stat_8h.html">sys/stat.h</a>&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="code" href="group__vfs.html#gac4d1baf108e9ce6414088db508d7c182">   40</a></span>&#160;<span class="preprocessor">#define MODE_READ  4</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="code" href="group__vfs.html#gab8fac4c725bb7d4b05ae138c07ef54af">   45</a></span>&#160;<span class="preprocessor">#define MODE_WRITE 2</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="code" href="group__vfs.html#ga2ab5cedebe651b3858703af1d8301993">   50</a></span>&#160;<span class="preprocessor">#define MODE_EXEC  1</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="code" href="group__vfs.html#ga2dd256afc91a2d7a99e2082e096664b2">   56</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a> <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="code" href="group__vfs.html#ga6673e8f64ca9ebd7e26e6289dca06e87">   62</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdirent.html" title="Describes a directory entry in a portable FS independent format.">dirent</a> <a class="code" href="structdirent.html" title="Describes a directory entry in a portable FS independent format.">dirent_t</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="code" href="group__vfs.html#gaffb8ec888adfc4b5369e4c175d9903e5">   68</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache</a> <a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="code" href="group__vfs.html#ga616bc6ee0262218ac3507c48556a1e6f">   74</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfs__device.html" title="An instance of a filesystem driver.">fs_device</a> <a class="code" href="structfs__device.html" title="An instance of a filesystem driver.">fs_device_t</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="code" href="group__vfs.html#ga68b8e1abb7e9c8e49013fb433a657780">   80</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfs__device__operations.html" title="Contains callbacks for all filesystem driver functions.">fs_device_operations</a> <a class="code" href="structfs__device__operations.html" title="Contains callbacks for all filesystem driver functions.">fs_device_operations_t</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="code" href="structinode.html">   85</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a> {  </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="code" href="structinode.html#a3414093479e03c14f11897b82707dfef">   87</a></span>&#160;        <a class="code" href="structllist.html" title="Linked list header structure prototype To use linked lists, create a structure containing a llist_t a...">llist_t</a>          <a class="code" href="structinode.html#a3414093479e03c14f11897b82707dfef" title="Linked list node.">node</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="comment">/* Inode */</span></div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="code" href="structinode.html#acd800e27b3159ea6eba907473c0eef47">   90</a></span>&#160;        <a class="code" href="types_8h.html#ab61b14ba26feb6e4f530bd8ae521e2c9">ino_t</a>            <a class="code" href="structinode.html#acd800e27b3159ea6eba907473c0eef47" title="Inode ID.">id</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="code" href="structinode.html#a4c0d828b6e65ecdac1622e4a18e0e834">   92</a></span>&#160;        uint32_t         <a class="code" href="structinode.html#a4c0d828b6e65ecdac1622e4a18e0e834" title="Block device this inode resides on.">device_id</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="code" href="structinode.html#a4b3440e0db7cf4fd0e8d129457a17861">   94</a></span>&#160;        <a class="code" href="structfs__device.html" title="An instance of a filesystem driver.">fs_device_t</a>     *<a class="code" href="structinode.html#a4b3440e0db7cf4fd0e8d129457a17861" title="Filesystem device this inode resides on.">device</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="code" href="structinode.html#a2c825bdd2ff7fe60ca73701ccc923d5a">   96</a></span>&#160;        <span class="keywordtype">char</span>             <a class="code" href="structinode.html#a2c825bdd2ff7fe60ca73701ccc923d5a" title="Filename.">name</a>[<a class="code" href="config_8h.html#a0f45c9b58c1257a7104089253a9f2c30">CONFIG_FILE_MAX_NAME_LENGTH</a>];</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="code" href="structinode.html#a456c01825931add904098a4b0002330d">   98</a></span>&#160;        <a class="code" href="types_8h.html#a952c84a825bb4f319cf55c9afb99ee0e">nlink_t</a>          <a class="code" href="structinode.html#a456c01825931add904098a4b0002330d" title="Number of hard links to this file.">hard_link_count</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="comment">/* Permissions */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="code" href="structinode.html#a0eac94e96ded19029e871d5cce815bcb">  101</a></span>&#160;        <a class="code" href="types_8h.html#a75bb141dc55bc89a8ddc565fd374e3d9">uid_t</a>            <a class="code" href="structinode.html#a0eac94e96ded19029e871d5cce815bcb" title="Owner UID.">uid</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="code" href="structinode.html#a8434fb9dd05057d00b37ed713713835d">  103</a></span>&#160;        <a class="code" href="types_8h.html#a3a7834be1a79bb0c5a65d3546c2e3bd8">gid_t</a>            <a class="code" href="structinode.html#a8434fb9dd05057d00b37ed713713835d" title="Owner GID.">gid</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="code" href="structinode.html#a35959aa3d6658ce8633098eb5cbb50a6">  105</a></span>&#160;        <a class="code" href="types_8h.html#ae4587bcd75daf26533f8c83b430dc071">umode_t</a>          <a class="code" href="structinode.html#a35959aa3d6658ce8633098eb5cbb50a6" title="File mode, see stat.h.">mode</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="comment">/* Special file */</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="code" href="structinode.html#a20ec39f993e64bb188f6e867f0774923">  108</a></span>&#160;        <a class="code" href="types_8h.html#a31acaaf3092d869de3b5e34d11695520">dev_t</a>            <a class="code" href="structinode.html#a20ec39f993e64bb188f6e867f0774923" title="Device id for special files.">if_dev</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="code" href="structinode.html#a1b946d6c660592a1e1271ace59dbfddd">  110</a></span>&#160;        <span class="keywordtype">char</span>             <a class="code" href="structinode.html#a1b946d6c660592a1e1271ace59dbfddd" title="Symbolic link target.">link_path</a>[<a class="code" href="config_8h.html#a0f45c9b58c1257a7104089253a9f2c30">CONFIG_FILE_MAX_NAME_LENGTH</a>];</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="code" href="structinode.html#aae3c6716724dea1e9ffa22d87e68db3c">  112</a></span>&#160;        <a class="code" href="structpipe__info.html">pipe_info_t</a>     *<a class="code" href="structinode.html#aae3c6716724dea1e9ffa22d87e68db3c" title="FIFO pipe back end.">fifo</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="code" href="structinode.html#a55a63ed7c60045de81212b920484fb50">  114</a></span>&#160;        <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a>         *<a class="code" href="structinode.html#a55a63ed7c60045de81212b920484fb50" title="Mounted filesystem root inode.">mount</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="code" href="structinode.html#a456f30eb0f88fbd83b4a95398c67d6c3">  116</a></span>&#160;        <a class="code" href="synch_8h.html#af1d92288e7a28476c17ed043164b535d" title="kernel/synch.h">semaphore_t</a>     *<a class="code" href="structinode.html#a456f30eb0f88fbd83b4a95398c67d6c3" title="Lock.">lock</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="code" href="structinode.html#ac6b9fdf23d78501e43bd2433c80ef8cc">  118</a></span>&#160;        uint32_t         <a class="code" href="structinode.html#ac6b9fdf23d78501e43bd2433c80ef8cc" title="Reference count (for GC)">usage_count</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="code" href="structinode.html#a4887e57edc2d19fe1dc38f49d78224ef">  120</a></span>&#160;        uint32_t         <a class="code" href="structinode.html#a4887e57edc2d19fe1dc38f49d78224ef" title="Open stream count.">open_count</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="code" href="structinode.html#aa8eaddd71c0cb19857525f7c3923fe94">  122</a></span>&#160;        <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a>           <a class="code" href="structinode.html#aa8eaddd71c0cb19857525f7c3923fe94" title="File size.">size</a>;  </div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="code" href="structinode.html#a5f5ad74887646b6c08e3ac7f858e8dd5">  124</a></span>&#160;        <a class="code" href="time_8h.html#abc9fcb3454c43da4726e8a2057b20f9c">ktime_t</a>          <a class="code" href="structinode.html#a5f5ad74887646b6c08e3ac7f858e8dd5" title="Access time.">atime</a>; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="code" href="structinode.html#a9034e2a2afb532b0025d4a62963f5d60">  126</a></span>&#160;        <a class="code" href="time_8h.html#abc9fcb3454c43da4726e8a2057b20f9c">ktime_t</a>          <a class="code" href="structinode.html#a9034e2a2afb532b0025d4a62963f5d60" title="Modification time.">mtime</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="code" href="structinode.html#aef57738b7899cfdfd54f509b80f2106a">  128</a></span>&#160;        <a class="code" href="time_8h.html#abc9fcb3454c43da4726e8a2057b20f9c">ktime_t</a>          <a class="code" href="structinode.html#aef57738b7899cfdfd54f509b80f2106a" title="Metadata modification time.">ctime</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;};</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="code" href="structdirent.html">  134</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdirent.html" title="Describes a directory entry in a portable FS independent format.">dirent</a> {</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="code" href="structdirent.html#ae0f981dec06778a49ac1aa526a10ce12">  136</a></span>&#160;        <a class="code" href="types_8h.html#ab61b14ba26feb6e4f530bd8ae521e2c9">ino_t</a>    <a class="code" href="structdirent.html#ae0f981dec06778a49ac1aa526a10ce12" title="The inode this entry points to.">inode_id</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="code" href="structdirent.html#a9d8680b2254cfb264a9959e54c2d47a6">  138</a></span>&#160;        <a class="code" href="types_8h.html#a31acaaf3092d869de3b5e34d11695520">dev_t</a>   <a class="code" href="structdirent.html#a9d8680b2254cfb264a9959e54c2d47a6" title="The filesystem device this entry points to.">device_id</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="code" href="structdirent.html#aae7cb194c62aaa2ee8d6f996fef268dd">  144</a></span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="structdirent.html#aae7cb194c62aaa2ee8d6f996fef268dd" title="The length of this dirent dirent structures are not always sizeof(dirent) long, most of the time they...">d_reclen</a>;<span class="comment">//2 + 2 + 4 = 8 -&gt; this struct is long alligned</span></div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="code" href="structdirent.html#a670ff727693d9eecffab475affc26116">  146</a></span>&#160;<span class="comment"></span>        <span class="keywordtype">char</span>     <a class="code" href="structdirent.html#a670ff727693d9eecffab475affc26116" title="The name of the file described by this entry.">name</a>[257];</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}  __attribute__((packed));</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="code" href="structdir__cache.html">  153</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache</a> {</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="code" href="structdir__cache.html#aa106e3da29954729571c9c2a51b6403b">  155</a></span>&#160;        <a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a>     *<a class="code" href="structdir__cache.html#aa106e3da29954729571c9c2a51b6403b" title="The parent directory of this entry.">parent</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="code" href="structdir__cache.html#ae99f6d96eeb40ed8ed3b92aed7684d8b">  157</a></span>&#160;        <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a>         *<a class="code" href="structdir__cache.html#ae99f6d96eeb40ed8ed3b92aed7684d8b" title="The inode for this entry.">inode</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="code" href="structdir__cache.html#afc7d9daeb39adc90179cdfd2cc685ed8">  161</a></span>&#160;        uint32_t         <a class="code" href="structdir__cache.html#afc7d9daeb39adc90179cdfd2cc685ed8" title="The number of times this dir_cache is referenced This is used for a basic form of garbage collection...">usage_count</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;};</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="code" href="structfs__device__operations.html">  173</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structfs__device__operations.html" title="Contains callbacks for all filesystem driver functions.">fs_device_operations</a> {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a859e0dca40c89da73ff42b6dcd2590e8">  185</a></span>&#160;        <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *       (*load_inode)   (<a class="code" href="structfs__device.html" title="An instance of a filesystem driver.">fs_device_t</a> *, <a class="code" href="types_8h.html#ab61b14ba26feb6e4f530bd8ae521e2c9">ino_t</a>);<span class="comment">//inode id -&gt; inode</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#aa921fa21d60b142dfa5aabc9c33f2a55">  196</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#aa921fa21d60b142dfa5aabc9c33f2a55" title="Write an inode to storage.">store_inode</a>)  (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *);<span class="comment">//inode -&gt; status</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a8c7f28d85d5ac54f635113967e71f067">  208</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#a8c7f28d85d5ac54f635113967e71f067" title="Create an inode.">mknod</a>)        (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *);    <span class="comment">//inode -&gt; status</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a9cbd5e2a0db28dcf339086e1566374e5">  221</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#a9cbd5e2a0db28dcf339086e1566374e5" title="Delete an inode.">rmnod</a>)        (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *);    <span class="comment">//inode -&gt; status</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a4dd80b922d605172b8623ac84f569553">  240</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#a4dd80b922d605172b8623ac84f569553" title="Read data from a file.">read_inode</a>)   (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *, <span class="keywordtype">void</span> *, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a>, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a>, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> *);<span class="comment">//buffer, f_offset, length, nread</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#adfcac011fedb648f3b5c4381158d3d1a">  257</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#adfcac011fedb648f3b5c4381158d3d1a" title="Write data to a file.">write_inode</a>)  (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *, <span class="keywordtype">void</span> *, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a>, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a>, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> *);<span class="comment">//buffer, f_offset, length, nwritten</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a8504a31b472b314e7faae832cc2e9aa8">  276</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#a8504a31b472b314e7faae832cc2e9aa8" title="Read directory entries from backing storage.">read_dir</a>)     (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *, <span class="keywordtype">void</span> *, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a>, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a>, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> *);<span class="comment">//buffer, f_offset, length, nread </span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a602f09647f044cf9b5cb910aa5fbfc23">  290</a></span>&#160;        <a class="code" href="structdirent.html" title="Describes a directory entry in a portable FS independent format.">dirent_t</a> *      (*find_dirent)  (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *, <span class="keywordtype">char</span> *);    <span class="comment">//dir_inode_id, filename -&gt; dirent_t  </span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a2129be966222186020c9538dd12df607">  303</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#a2129be966222186020c9538dd12df607" title="Create directory structures.">mkdir</a>)        (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *);            <span class="comment">//dir_inode_id -&gt; status</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a063d2ae50d3a2e8c9b18222dab4a9266">  319</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#a063d2ae50d3a2e8c9b18222dab4a9266" title="Create a directory entry.">link</a>)         (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *, <span class="keywordtype">char</span> *, <a class="code" href="types_8h.html#ab61b14ba26feb6e4f530bd8ae521e2c9">ino_t</a>);     <span class="comment">//dir_inode_id, filename, inode_id -&gt; status</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a5d071dd0da44141d13773ffd640a01f2">  332</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#a5d071dd0da44141d13773ffd640a01f2" title="Delete a directory entry.">unlink</a>)       (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *, <span class="keywordtype">char</span> *);    <span class="comment">//dir_inode_id, filename</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="code" href="structfs__device__operations.html#a4a8dbf701e3a36ebfab70418e222d974">  345</a></span>&#160;        int             (*<a class="code" href="structfs__device__operations.html#a4a8dbf701e3a36ebfab70418e222d974" title="Resize a file.">trunc_inode</a>)  (<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;};</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="code" href="structfs__device.html">  363</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structfs__device.html" title="An instance of a filesystem driver.">fs_device</a> {</div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="code" href="structfs__device.html#a582c64d7944d6c71d983d86fe7105619">  365</a></span>&#160;        uint32_t                <a class="code" href="structfs__device.html#a582c64d7944d6c71d983d86fe7105619" title="Block device this filesystem resides on.">id</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="code" href="structfs__device.html#affaa5cec248689da73d3dfd015211360">  367</a></span>&#160;        <a class="code" href="types_8h.html#ab61b14ba26feb6e4f530bd8ae521e2c9">ino_t</a>                   <a class="code" href="structfs__device.html#affaa5cec248689da73d3dfd015211360" title="Root inode ID.">root_inode_id</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno"><a class="code" href="structfs__device.html#adbc4d5914d59db84428c34b06a2e58cf">  369</a></span>&#160;        <a class="code" href="structfs__device__operations.html" title="Contains callbacks for all filesystem driver functions.">fs_device_operations_t</a> *<a class="code" href="structfs__device.html#adbc4d5914d59db84428c34b06a2e58cf" title="Pointer to the callback list.">ops</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="code" href="structfs__device.html#a48b7123c896863bcadc411e6037204c9">  371</a></span>&#160;        <a class="code" href="synch_8h.html#af1d92288e7a28476c17ed043164b535d" title="kernel/synch.h">semaphore_t</a>            *<a class="code" href="structfs__device.html#a48b7123c896863bcadc411e6037204c9" title="Filesystem lock.">lock</a>;   </div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="code" href="structfs__device.html#a31ec88f1c624f4136909a76a57e9570b">  377</a></span>&#160;        <span class="keywordtype">size_t</span>                  <a class="code" href="structfs__device.html#a31ec88f1c624f4136909a76a57e9570b" title="Inode structure size for this filesystem.">inode_size</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;};</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="group__vfs.html#ga4d558b9661b7392bfdfea46e60bead43" title="Create a new reference to an inode.">vfs_inode_ref</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__vfs.html#ga3494d0da607504093448c9fbc5d2623e" title="Release a reference to an inode.">vfs_inode_release</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="group__vfs.html#gaa8336c694b79fb0e56847ab2e1b26750" title="Look up the inode for the directory containing the file.">vfs_find_parent</a>(<span class="keywordtype">char</span> * path);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="group__vfs.html#ga60e197d9a65de9d15c88f8fa1f6e7c97" title="Look up the inode for the file referenced by path.">vfs_find_inode</a>(<span class="keywordtype">char</span> * path);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="group__vfs.html#ga5b390b5f69c09ba25d6ecec740c301d1" title="Look up the inode for the file referenced by path, not dereferencing symlinks or mounts.">vfs_find_symlink</a>(<span class="keywordtype">char</span> * path);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<a class="code" href="structdirent.html" title="Describes a directory entry in a portable FS independent format.">dirent_t</a> *<a class="code" href="group__vfs.html#ga489abb04eb8e74a3f11a0a20f32a845c" title="Find a directory entry.">vfs_find_dirent</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> * <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a>, <span class="keywordtype">char</span> * name);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga6187be67e690be6916a385ebde588093" title="Delete a directory.">vfs_rmdir</a>(<span class="keywordtype">char</span> *path);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga22ee4ff0cc661e9246bd6a76702b298e" title="Create a directory.">vfs_mkdir</a>(<span class="keywordtype">char</span> *path, <a class="code" href="types_8h.html#a161c505f18322d8ce974064784be272a">mode_t</a> mode);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga1833cb4e7ef568776472b7d940eccf04" title="Create a file.">vfs_mknod</a>(<span class="keywordtype">char</span> *path, <a class="code" href="types_8h.html#a161c505f18322d8ce974064784be272a">mode_t</a> mode, <a class="code" href="types_8h.html#a31acaaf3092d869de3b5e34d11695520">dev_t</a> dev);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga797ee30a843cc96fdb59db73fe97102d" title="Delete a file.">vfs_unlink</a>(<span class="keywordtype">char</span> *path);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#gac8b32bb45661974629d18b9830c5d026" title="Create a hard link.">vfs_link</a>(<span class="keywordtype">char</span> *oldpath, <span class="keywordtype">char</span> *newpath);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga5525864c8ec0cc591c31faf9e0b7636d" title="Create a symbolic link.">vfs_symlink</a>(<span class="keywordtype">char</span> *oldpath, <span class="keywordtype">char</span> *newpath);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga61886b169216dc8c85945584536fbb1d" title="Mount a filesystem.">vfs_mount</a>(<span class="keywordtype">char</span> *device, <span class="keywordtype">char</span> *mountpoint, <span class="keywordtype">char</span> *fstype, uint32_t flags);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#gab379ab04ee753835803908fe8e2390ed" title="Write data to a file.">vfs_write</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> * <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a> , <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> file_offset, <span class="keywordtype">void</span> * buffer, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> count, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> *read_size, <span class="keywordtype">int</span> non_block);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga3b462cea173d8cd38ab8b46b98a159d7" title="Read data from a file.">vfs_read</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> * <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a> , <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> file_offset, <span class="keywordtype">void</span> * buffer, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> count, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> *read_size, <span class="keywordtype">int</span> non_block);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga94b66b2d752c243c35894d6655626566" title="Read directory entries.">vfs_getdents</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> * <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a> , <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> file_offset, <a class="code" href="structdirent.html" title="Describes a directory entry in a portable FS independent format.">dirent_t</a> * buffer, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> count, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> *read_size);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga9913748fc23c6bfe9d775a2f27d82228" title="Resize a file.">vfs_truncate</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> * <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a>, <a class="code" href="types_8h.html#a2ecffc95171f097e4c966c8a29fbe038">aoff_t</a> length);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#gaaf38fb9429e180341bada6ddd3f3c22a" title="Changes the root directory for this process.">vfs_chroot</a>(<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *dirc);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#gac950be0dca83a86499018b8c6372b352" title="Changes the working directory for this process.">vfs_chdir</a>(<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *dirc);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="group__vfs.html#gaf09508470980cccac2b4a2b86cd0c716" title="Extract the filename part of a path.">vfs_get_filename</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *<a class="code" href="group__vfs.html#ga9fd0a37c12ffd599dfa7b698180c9a5f" title="Create the initial dir cache entry.">vfs_dir_cache_mkroot</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *root_inode);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__vfs.html#gab983aeeac1801fd1bac9c8074b2c4358" title="Release a reference to a directory cache entry.">vfs_dir_cache_release</a>(<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *dirc);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *<a class="code" href="group__vfs.html#ga90dc951c937e30b96e59f73075bbcd3a" title="Look up a file referred to by a path.">vfs_find_dirc</a>(<span class="keywordtype">char</span> * path);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<a class="code" href="permissions_8h.html#a22e726d412d3cf8ca4d1e6c7795c5c0f">perm_class_t</a> <a class="code" href="group__vfs.html#ga2631471cb0ce3ac48ae005747a116bf9" title="Returns the minimum privilege level required for access with mode.">vfs_get_min_permissions</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a>, <a class="code" href="types_8h.html#a161c505f18322d8ce974064784be272a">mode_t</a> req_mode);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#ga64ad852cc66f2d66221f16ad29c92a04" title="Check permissions for access with mode.">vfs_have_permissions</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a>, <a class="code" href="types_8h.html#a161c505f18322d8ce974064784be272a">mode_t</a> req_mode);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="group__vfs.html#ga958c0c8e4b441808862e0911fbfc04be" title="Get an inode by it&#39;s ID.">vfs_get_inode</a>(<a class="code" href="structfs__device.html" title="An instance of a filesystem driver.">fs_device_t</a> *device, <a class="code" href="types_8h.html#ab61b14ba26feb6e4f530bd8ae521e2c9">ino_t</a> inode_id);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> *<a class="code" href="group__vfs.html#ga830186f7c888aae883bab689de5a287c" title="Get the effective inode for an inode, in other words : Dereference possible symlinks and mounts...">vfs_effective_inode</a>(<a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode_t</a> * <a class="code" href="structinode.html" title="Describes a file currently cached by the kernel.">inode</a>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__vfs.html#gab983aeeac1801fd1bac9c8074b2c4358" title="Release a reference to a directory cache entry.">vfs_dir_cache_release</a>(<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *dirc);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *<a class="code" href="group__vfs.html#gac5cf4de9b3b83121a32c4b588117a44d" title="Create a new reference to a directory cache entry.">vfs_dir_cache_ref</a>(<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *dirc);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *<a class="code" href="group__vfs.html#gae4a440e3955ca4aa703b3267d7bccae0" title="Create a new directory cache entry.">vfs_dir_cache_new</a>(<a class="code" href="structdir__cache.html" title="An entry in the path element cache The kernel keeps track of these to resolve the ...">dir_cache_t</a> *par, <a class="code" href="types_8h.html#ab61b14ba26feb6e4f530bd8ae521e2c9">ino_t</a> inode_id);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__vfs.html#gac1913485037320335c4030439d537df8" title="Initialize the VFS layer.">vfs_initialize</a>(<a class="code" href="structfs__device.html" title="An instance of a filesystem driver.">fs_device_t</a> * root_device);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_94ae08fb2ffd97dfc1c50804b45c1353.html">include</a></li><li class="navelem"><a class="el" href="dir_f641b9ad53d8d191242bcadc0d20fb84.html">kernel</a></li><li class="navelem"><a class="el" href="vfs_8h.html">vfs.h</a></li>
    <li class="footer">Generated on Mon Jul 14 2014 05:57:11 for posnk kernel by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
